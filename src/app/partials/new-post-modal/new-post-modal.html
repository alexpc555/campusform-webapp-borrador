<div class="modal-wrapper">

  <!-- HEADER -->
  <div class="modal-header">
    <div class="header-left">
      <div>
        <h2>Nueva Publicación</h2>
        <p>Comparte tu conocimiento con la comunidad académica</p>
      </div>
    </div>

    <!-- Botón cerrar sin mat-icon -->
    <button
  mat-button
  type="button"
  class="close-btn"
  (click)="close()">
  ✕
</button>
  </div>

  <form [formGroup]="form" class="modal-body">

    <!-- TÍTULO -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Título *</mat-label>
      <input
        matInput
        formControlName="title"
        maxlength="150"
        placeholder="Ej: ¿Cómo resolver ecuaciones cuadráticas?"
      />
      <mat-hint align="end">{{ titleCount }}/150</mat-hint>
    </mat-form-field>

    <!-- CATEGORÍA -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Categoría *</mat-label>
      <mat-select formControlName="category">
        <mat-option *ngFor="let cat of categories" [value]="cat">
          {{ cat }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- CONTENIDO -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Contenido *</mat-label>
      <textarea
        matInput
        rows="6"
        maxlength="5000"
        formControlName="content"
        placeholder="Describe tu pregunta o tema de discusión de manera detallada..."
      ></textarea>
      <mat-hint align="end">{{ contentCount }}/5000</mat-hint>
    </mat-form-field>

    <!-- ETIQUETAS -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Etiquetas (opcional)</mat-label>
      <input
        matInput
        formControlName="tags"
        placeholder="Ej: algebra, matemáticas, examen"
      />
      <mat-hint>Separa las etiquetas con comas</mat-hint>
    </mat-form-field>

    <!-- CONSEJOS -->
    <div class="tips-box">
      <div class="tips-title">
        Consejos para una buena publicación:
      </div>
      <ul>
        <li>Sé claro y específico en tu título</li>
        <li>Proporciona contexto suficiente en el contenido</li>
        <li>Usa las etiquetas para mejorar la búsqueda</li>
        <li>Revisa la ortografía antes de publicar</li>
      </ul>
    </div>

    <!-- BOTONES -->
    <div class="modal-actions">
      <button mat-stroked-button type="button" (click)="close()">
        Cancelar
      </button>

      <button
        mat-flat-button
        color="primary"
        type="button"
        (click)="publish()"
      >
        Publicar
      </button>
    </div>

  </form>
</div>
